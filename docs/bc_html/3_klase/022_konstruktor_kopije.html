<!DOCTYPE html>

<html lang="sr-Cyrl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Конструктор копије &#8212; Програмирање III за информатичке профиле у електротехничким школама</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=38a41dd3" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css?v=5369589b" />
    <link rel="stylesheet" type="text/css" href="../_static/multiple-choice.css?v=df6f2113" />
    <link rel="stylesheet" type="text/css" href="../_static/fill-in-the-blank.css?v=18d67449" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=de1d9f27"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/notes.js?v=f5c030f5"></script>
    <script src="../_static/multiple-choice.js?v=5417ff0d"></script>
    <script src="../_static/fill-in-the-blank.js?v=9c804142"></script>
    <script src="../_static/../_platform/petljaRTBundle.js?v=1b63c3ef"></script>
    <script src="../_static/../_platform/content.js?v=68d29ad7"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="next" title="Кључна реч this" href="030_this.html" />
    <link rel="prev" title="Конструктор са параметрима" href="021_konstruktor_sa_parametrima.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
          

          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>Конструктор копије<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<p>Трећи тип конструктора о којем ћеш учити је конструктор копије. То је
специјални тип конструктора који се користи за стварање новог објекта који
представља копију постојећег објекта. Конструктор копије није унапред
дефинисан, што значи да га мораш експлицитно дефинисати унутар својих класа.</p>
<p>Нека је задатак да креираш класу <code class="docutils literal notranslate"><span class="pre">Osoba</span></code> за рад са подацима особа као што су
име и презиме и година рођења. Класа треба да обезбеди креирање објекта чија се
поља иницијализују помоћу конструктора са параметрима, као и креирање копија
постојећег објекта.</p>
<p>Креирање објекта чија се поља иницијализују помоћу конструктора са параметрима
обрађено је у претходној лекцији:</p>
<div class="highlight-cs notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Osoba</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">imePrezime</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">godinaRodjenja</span><span class="p">;</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">Osoba</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">ime</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">god</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">imePrezime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ime</span><span class="p">;</span>
<span class="w">        </span><span class="n">godinaRodjenja</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">god</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Креирање копија постојећег објекта могуће је коришћењем конструктора копије.
Конструктор копије има један параметар - објекат типа објекта којег желиш да
копираш. Позивом овог конструктора копирају се сви релевантни подаци из
постојећег у нови објекат. Конструктор копије можеш дефинисати и користити, на
пример овако:</p>
<div class="highlight-cs notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Osoba</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">imePrezime</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">godinaRodjenja</span><span class="p">;</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">Osoba</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">ime</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">god</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">imePrezime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ime</span><span class="p">;</span>
<span class="w">        </span><span class="n">godinaRodjenja</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">god</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">Osoba</span><span class="p">(</span><span class="n">Osoba</span><span class="w"> </span><span class="n">osobaZaKopiranje</span><span class="p">)</span><span class="w"> </span><span class="c1">// Konstruktor kopije</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">imePrezime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">osobaZaKopiranje</span><span class="p">.</span><span class="n">imePrezime</span><span class="p">;</span>
<span class="w">        </span><span class="n">godinaRodjenja</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">osobaZaKopiranje</span><span class="p">.</span><span class="n">godinaRodjenja</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Program</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Osoba</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Osoba</span><span class="p">(</span><span class="s">&quot;Velimir Radlovacki&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">1976</span><span class="p">);</span>
<span class="w">        </span><span class="n">Osoba</span><span class="w"> </span><span class="n">o2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Osoba</span><span class="p">(</span><span class="n">o1</span><span class="p">);</span>
<span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">o1</span><span class="p">.</span><span class="n">imePrezime</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o1</span><span class="p">.</span><span class="n">godinaRodjenja</span><span class="p">);</span>
<span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">o2</span><span class="p">.</span><span class="n">imePrezime</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o2</span><span class="p">.</span><span class="n">godinaRodjenja</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Извршавањем програма инстанциран је објекат <code class="docutils literal notranslate"><span class="pre">o1</span></code> класе <code class="docutils literal notranslate"><span class="pre">Osoba</span></code>, чија су поља
иницијализована конструктором са параметрима. Након тога инстанциран је објекат
<code class="docutils literal notranslate"><span class="pre">o2</span></code> класе <code class="docutils literal notranslate"><span class="pre">Osoba</span></code>, чија су поља иницијализована конструктором копије (вредности
поља су копиране из објекта <code class="docutils literal notranslate"><span class="pre">o1</span></code>).</p>
<p>У примеру изнад, каже се да је конструктором копије направљена плитка копија
(енгл. <em>shallow copy</em>) објекта <code class="docutils literal notranslate"><span class="pre">o1</span></code>. Плитка копија подразумева копирање
вредности поља (примитивних типова и референци). Да су се у класи <code class="docutils literal notranslate"><span class="pre">Osoba</span></code>
налазиле референце на друге објекте, модификације у тим објектима утицале би
и на објекат <code class="docutils literal notranslate"><span class="pre">о1</span></code> и на објекат <code class="docutils literal notranslate"><span class="pre">о2</span></code>.</p>
<p>Ако се у класи налазе референце на друге објекте, потребно је да направиш
дубоку копију (енгл. <em>deep copy</em>). На пример, ако класа <code class="docutils literal notranslate"><span class="pre">Osoba</span></code> садржи и поље
<code class="docutils literal notranslate"><span class="pre">Adresa</span></code> типа објекта <code class="docutils literal notranslate"><span class="pre">Adresa</span></code>:</p>
<div class="highlight-cs notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Adresa</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">ulicaBroj</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">mestoPttBroj</span><span class="p">;</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">Adresa</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">ulbr</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">mptt</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ulicaBroj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ulbr</span><span class="p">;</span>
<span class="w">        </span><span class="n">mestoPttBroj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mptt</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">Adresa</span><span class="p">(</span><span class="n">Adresa</span><span class="w"> </span><span class="n">adresaZaKopiranje</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ulicaBroj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adresaZaKopiranje</span><span class="p">.</span><span class="n">ulicaBroj</span><span class="p">;</span>
<span class="w">        </span><span class="n">mestoPttBroj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adresaZaKopiranje</span><span class="p">.</span><span class="n">mestoPttBroj</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Osoba</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">imePrezime</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">godinaRodjenja</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">Adresa</span><span class="w"> </span><span class="n">Adresa</span><span class="p">;</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">Osoba</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">ime</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">god</span><span class="p">,</span><span class="w"> </span><span class="n">Adresa</span><span class="w"> </span><span class="n">adr</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">imePrezime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ime</span><span class="p">;</span>
<span class="w">        </span><span class="n">godinaRodjenja</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">god</span><span class="p">;</span>
<span class="w">        </span><span class="n">Adresa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adr</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">Osoba</span><span class="p">(</span><span class="n">Osoba</span><span class="w"> </span><span class="n">osobaZaKopiranje</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">imePrezime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">osobaZaKopiranje</span><span class="p">.</span><span class="n">imePrezime</span><span class="p">;</span>
<span class="w">        </span><span class="n">godinaRodjenja</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">osobaZaKopiranje</span><span class="p">.</span><span class="n">godinaRodjenja</span><span class="p">;</span>
<span class="w">        </span><span class="n">Adresa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Adresa</span><span class="p">(</span><span class="n">osobaZaKopiranje</span><span class="p">.</span><span class="n">Adresa</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Program</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Adresa</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Adresa</span><span class="p">(</span><span class="s">&quot;Sterijina 40&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Vrsac 26300&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">Osoba</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Osoba</span><span class="p">(</span><span class="s">&quot;Velimir Radlovacki&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">1976</span><span class="p">,</span><span class="w"> </span><span class="n">a1</span><span class="p">);</span>
<span class="w">        </span><span class="n">Osoba</span><span class="w"> </span><span class="n">o2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Osoba</span><span class="p">(</span><span class="n">o1</span><span class="p">);</span>
<span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">o1</span><span class="p">.</span><span class="n">imePrezime</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o1</span><span class="p">.</span><span class="n">godinaRodjenja</span><span class="w"> </span><span class="o">+</span>
<span class="w">            </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o1</span><span class="p">.</span><span class="n">Adresa</span><span class="p">.</span><span class="n">ulicaBroj</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o1</span><span class="p">.</span><span class="n">Adresa</span><span class="p">.</span><span class="n">mestoPttBroj</span><span class="p">);</span>
<span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">o2</span><span class="p">.</span><span class="n">imePrezime</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o2</span><span class="p">.</span><span class="n">godinaRodjenja</span><span class="w"> </span><span class="o">+</span>
<span class="w">            </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o2</span><span class="p">.</span><span class="n">Adresa</span><span class="p">.</span><span class="n">ulicaBroj</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o2</span><span class="p">.</span><span class="n">Adresa</span><span class="p">.</span><span class="n">mestoPttBroj</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>У овом случају, конструктор копије класе <code class="docutils literal notranslate"><span class="pre">Osoba</span></code> ствара нову копију <code class="docutils literal notranslate"><span class="pre">Adresa</span></code>
објекта, чиме се осигурава дубока копија објекта <code class="docutils literal notranslate"><span class="pre">о1</span></code>.</p>
</section>


          </div>
          
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
    </div>

    

    
  </body>
</html>